Run file: GetData.m 

Temporal synchronization of Motion Capture and Force Plates is achieved by extracting an End of Frame (EOF) signal 
that is generated by the master tracker of the VisualEyez motion capture system. 

Each motion capture session consists of a number of frames, each of which in turn have two parts: capture period 
and sampling intermission period. During each capture period, the LED markers specified in the Target Sampling 
Sequence are captured in sequence. Immediately after all the markers in the sequence are captured, the master 
tracker generates an End of Frame (EOF) signal. It is followed by a sampling intermission period. After which 
the next frame capture commences, and the same process is repeated.  

This EOF signal is also fed into the control I/O jack of the Kistler DAQ system to act as an external trigger for
 force plate session capture. It is also fed as Fz4 data for a dummy force plate FP 7. As the force plate capture 
is triggered by an EOF signal, force plate data is necessarily captured after Frame #1 is captured by the motion 
capture system and an EOF signal is generated. To align the motion capture and force plate exported data, an external 
start time (t = 0) is imposed for both sets of data. An obvious choice for time t = 0 when the first marker is 
captured for Frame #2. 

The MATLAB files load_mocap_file.m and load_fp_files.m contain functions that extract the marker and force plate 
data from the .txt files that are exported by the VZSoft and Bioware Software and stores them in an organized manner 
within two structures marker and FP. The fieldnames under each structure contain the marker/force plate identification
numbers.    

Load_fp_files.m also identifies the time at which EOF(2) or (End of Frame signal generated after Frame #2) from the 
Fz data of Force Plate 7. By subtracting the time required to capture all markers in a sequence during Frame #1 from 
t(EOF(2)) we obtain time t = 0. 
